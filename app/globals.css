@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================
   Root & Base
========================================= */
:root { color-scheme: dark; }

html, body { height: 100%; }
body { @apply bg-paper text-ink antialiased font-sans; }

/* =========================================
   Prose (محتوى النصوص)
========================================= */
.prose { @apply max-w-prose leading-7 text-ink; }
.prose h1 { @apply text-3xl mb-4; }
.prose h2 { @apply text-2xl mt-6 mb-3; }
.prose h3 { @apply text-xl mt-4 mb-2; }
.prose a  { @apply text-brand underline hover:no-underline; }

/* Images inside prose */
.prose img {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 1rem 0;
  border-radius: 0.5rem;
  border: 1px solid theme('colors.border');
  background: theme('colors.panel');
}

/* Figure + caption */
.prose figure { margin: 1.25rem 0; }
.prose figcaption {
  font-size: 0.9rem;
  color: #9ca3af;
  margin-top: 0.25rem;
  text-align: center;
}

/* =========================================
   Headings (خارج .prose أيضًا)
========================================= */
h1, h2, h3, h4 { line-height: 1.3; margin: 1rem 0; }
h1 { font-size: 2.5rem; font-weight: 700; color: #fff; }
h2 { font-size: 1.8rem; font-weight: 600; color: #e5e7eb; }
h3 { font-size: 1.4rem; font-weight: 600; color: #cbd5e1; }
h4 { font-size: 1.2rem; font-weight: 500; color: #a1a1aa; }

html[dir="rtl"] h1,
html[dir="rtl"] h2,
html[dir="rtl"] h3,
html[dir="rtl"] h4 { text-align: right; }

/* =========================================
   Embeds (YouTube / Videos)
========================================= */
.yt-embed {
  position: relative;
  width: 100%;
  max-width: 960px;
  margin: 2rem auto;
  border-radius: 12px;
  overflow: hidden;
  background: #171717;
  box-shadow: 0 4px 20px rgba(0,0,0,0.25);
}
.yt-embed::before { content: ""; display: block; padding-top: 56.25%; }
.yt-embed iframe { position: absolute; inset: 0; width: 100%; height: 100%; border: 0; }

/* Tweets / Iframely */
.tweet-embed-lg {
  width: 100% !important;
  max-width: 800px !important;
  height: 600px !important;
  border: none;
}

/* PDF */
.pdf-embed { margin: 1.25rem 0; }
.pdf-frame {
  width: 100%;
  height: 800px;
  border: 1px solid #2b2b2b;
  border-radius: 7px;
  background: #171717;
  display: block;
}

/* =========================================
   Media Helpers
========================================= */
img { max-width: 100%; height: auto; display: block; }
iframe { max-width: 100%; display: block; }

.gallery-stack { display: flex; flex-direction: column; gap: 1rem; margin: 1.5rem 0; }
.gallery-stack img { width: 100%; border-radius: 0.5rem; border: 1px solid #2B2B2B; background: #171717; }

.img-center { text-align: center; margin: 2rem auto; }
.img-center img { border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.25); max-width: 90%; }
.img-center figcaption { margin-top: 0.5rem; font-size: 0.9rem; color: #aaa; text-align: center; }

/* =========================================
   Callouts / Notes
========================================= */
.note-box {
  padding: 1rem 1.25rem;
  border-radius: 10px;
  margin: 1.5rem 0;
  font-size: 0.95rem;
  line-height: 1.5;
  background: rgba(31, 31, 31, 0.25);
  border-left: 4px solid #6b7280;
  color: #e5e7eb;
}
.note-box strong { font-weight: 600; }

.note-box.info    { border-left-color: #3b82f6; background: rgba(59,130,246,0.1); }
.note-box.success { border-left-color: #22c55e; background: rgba(34,197,94,0.1); }
.note-box.warning { border-left-color: #fbbf24; background: rgba(251,191,36,0.1); }
.note-box.danger  { border-left-color: #ef4444; background: rgba(239,68,68,0.1); }

/* =========================================
   Quote
========================================= */
.quote-box {
  border-left: 4px solid #888;
  padding: .8rem 1rem;
  margin: 1.5rem 0;
  background: rgba(17,17,17,0.3);
  font-style: italic;
  color: #ddd;
  border-radius: 4px;
}

/* =========================================
   Callout Code
========================================= */
.callout-code {
  background: rgba(16,16,16,0.3);
  color: #dfe3ea;
  border: 1px solid #2a2a2a;
  border-radius: 8px;
  margin: 1rem 0 1.25rem;
  overflow: hidden;
}
.callout-code .title {
  display: inline-block;
  background: rgba(24,24,24,0.4);
  border-bottom: 1px solid #2a2a2a;
  padding: .45rem .75rem;
  font-size: .85rem;
  color: #b9c0c8;
  border-radius: 8px 8px 0 0;
}
.callout-code pre {
  padding: .9rem 1rem;
  margin: 0;
  white-space: pre-wrap;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
}

/* =========================================
   Tables
========================================= */
.table-wrapper { margin: 20px 0; overflow-x: auto; }
.table-wrapper table { width: 100%; border-collapse: collapse; background: #111; border: 1px solid #333; border-radius: 10px; overflow: hidden; }
.table-wrapper th, .table-wrapper td { padding: 12px 16px; border-bottom: 1px solid #333; }
.table-wrapper th { background: #222; color: #f0f0f0; font-weight: 600; text-transform: uppercase; }
.table-wrapper tr:nth-child(even) { background: #1a1a1a; }
.table-wrapper tr:hover { background: #2a2a2a; }

.table-wrapper.ltr { direction: ltr; text-align: left; }
.table-wrapper.rtl { direction: rtl; text-align: right; }

/* =========================================
   Roadmap
========================================= */
.rm-sub { font-size: .95rem; color: #cbd5e1; margin: .25rem 0 1rem; opacity: .9; }
.rm-section { font-weight: 700; margin: 1.25rem 0 .5rem; }
.rm-purple { color: #a78bfa; }
.rm-orange { color: #f59e0b; }
.rm-list { list-style: none; padding-left: 0; margin: .5rem 0 1.25rem; }
.rm-list li { padding: .4rem .6rem; border-radius: .5rem; line-height: 1.45; }
.rm-list li a { color: #93c5fd; text-decoration: underline; }
.rm-list li.done { color: #22c55e; }

/* =========================================
   Styled Lists
========================================= */
.styled-list { list-style-type: disc; padding-left: 1.25rem; margin: 0.75rem 0; }
.styled-list li { margin: 0.4rem 0; color: #f5f5f5; line-height: 1.6; }
.styled-list li a { color: #f59e0b; text-decoration: underline; }
.styled-list-numbered { list-style-type: decimal; padding-left: 1.5rem; }

/* =========================================
   Link Box
========================================= */
.link-box {
  display: flex; align-items: center; justify-content: space-between;
  background: #111; border: 1px solid #2b2b2b; border-radius: 6px;
  padding: 0.9rem 1rem; margin: 1.25rem 0; transition: background 0.2s ease;
}
.link-box a { color: #fbbf24; font-weight: 500; text-decoration: none; flex: 1; }
.link-box:hover { background: #1a1a1a; }
.link-box::after { content: "➔"; color: #888; margin-left: 0.75rem; font-size: 1rem; }

/* =========================================
   Tooltip
========================================= */
.tooltip { position: relative; cursor: pointer; }
.tooltip::after {
  content: attr(data-tooltip);
  position: absolute; left: 0; top: 120%;
  background: rgba(31,31,31,0.9); color: #f5f5f5;
  padding: 0.6rem 0.9rem; border-radius: 6px;
  font-size: 0.85rem; line-height: 1.4; white-space: pre-line;
  opacity: 0; transform: translateY(5px); transition: opacity .2s ease, transform .2s ease;
  pointer-events: none; max-width: 300px; z-index: 20;
}
.tooltip:hover::after { opacity: 1; transform: translateY(0); }

/* =========================================
   Price Ticker
   - تم ضبطه ليعمل إما بمسار واحد أو مسارين بدون ظهور ازدواج.
========================================= */
.ticker-wrap{
  position: fixed; inset-inline: 0; bottom: 0;
  background: rgba(0,0,0,0.30);
  backdrop-filter: blur(8px);
  border-top: 1px solid rgba(255,255,255,0.10);
  border-bottom: 1px solid rgba(255,255,255,0.05);
  overflow: hidden; z-index: 50;
}

/* عناصر العملة */
.ticker-item{
  display: inline-flex; align-items: center; gap:.65rem;
  padding:.6rem 1.25rem; border-right:1px dashed #232323;
  color:#e5e7eb; font-size:.95rem; white-space:nowrap;
}
.ticker-item img{ width:20px; height:20px; }
.ticker-item .sym{ font-weight:700; color:#fbbf24; }
.ticker-item .price{ color:#f3f4f6; }
.ticker-item .chg{ font-variant-numeric: tabular-nums; font-weight:600; }
.ticker-item .chg.up{ color:#22c55e; }
.ticker-item .chg.down{ color:#ef4444; }

/* وسم حالة البث */
.ticker-meta{
  position:absolute; right:.75rem; top:50%; transform:translateY(-50%);
  display:inline-flex; align-items:center; gap:.5rem; font-size:.8rem; color:#9ca3af;
}
.ticker-meta .dot{
  width:8px; height:8px; border-radius:999px; background:#22c55e;
  box-shadow:0 0 10px rgba(34,197,94,.6);
}
.ticker-meta .label{ color:#a7f3d0; font-weight:600; }

/* ====== مسار ماركيه اختياري ======
   إن كنت تستخدم مسارين في JSX، امنح كلاهما هذا الكلاس.
   ضع الثاني بـ aria-hidden="true" وسيبدأ بعد نهاية الأول.
*/
.marquee-track{
  display:inline-flex; gap:0; white-space:nowrap;
  will-change: transform; animation: marquee 30s linear infinite;
}
.marquee-track[aria-hidden="true"]{ position:absolute; left:100%; top:0; }

/* تراجع لطريقة قديمة (توافق مع كودك الحالي لو استخدمت .animate-marquee) */
.animate-marquee{ @apply inline-flex; min-width:100%; animation: marquee 30s linear infinite; }
.animate-marquee:hover, .marquee-track:hover{ animation-play-state: paused; }

@keyframes marquee{
  from{ transform: translateX(0); }
  to  { transform: translateX(-100%); }
}

/* احترام تفضيل تقليل الحركة */
@media (prefers-reduced-motion: reduce){
  .animate-marquee, .marquee-track{ animation: none; }
}

/* =========================================
   Rarity word colors
========================================= */
.prose .rarity-common    { color: #FFFFFF !important; }
.prose .rarity-uncommon  { color: #99CC00 !important; }
.prose .rarity-rare      { color: #00CCFF !important; }
.prose .rarity-legendary { color: #FF00FF !important; }
.prose .rarity-mythic    { color: #DF9326 !important; }
.rarity-common, .rarity-uncommon, .rarity-rare, .rarity-legendary, .rarity-mythic { font-weight: inherit; }

.wiki-color-purple { color: #800080; font-weight: 700; }
.wiki-color-orange { color: #FFA500; font-weight: 700; }
.wiki-color-green  { color: #008000; font-weight: 700; }
.text-nvidia { color: #006400; font-weight: bold; }
.text-amd    { color: #8B0000; font-weight: bold; }
/* مسار الشريط: تحريك مجموعة واحدة + ذيل بعرض الشاشة يمنع ظهور مجموعة ثانية */
.marquee-track{
  display:inline-flex;
  min-width:100%;
  animation: marquee-single 30s linear infinite;
  will-change: transform;
  padding-inline-end: 100vw; /* ذيل: يضمن ما تشوف مجموعة ثانية جنب الأولى */
}
.marquee-track:hover{ animation-play-state: paused; }

@keyframes marquee-single{
  0%   { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}
